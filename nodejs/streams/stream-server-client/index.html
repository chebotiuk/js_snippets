<hrml>
  <head>
    <title>Client</title>
    <meta charset="utf-8">
  </head>
  <body>
    <h1>Client data ajax - read stream</h1>
    <button id="runBtn">run</button>
    <ul id="dataList">
    </ul>
    <script>
      function run() {
        var xhr = new XMLHttpRequest();
        write(xhr.readyState);

        xhr.open('GET', 'digits', true);
        write(xhr.readyState);

        xhr.onreadystatechange = function() {
          write(xhr.readyState + xhr.responseText);
        };

        xhr.send();
      }

      runBtn.onclick = run

      function write(text) {
        var li = dataList.appendChild(document.createElement('li'));
        li.innerHTML = text;
      }
    </script>
  </body>
</hrml>
